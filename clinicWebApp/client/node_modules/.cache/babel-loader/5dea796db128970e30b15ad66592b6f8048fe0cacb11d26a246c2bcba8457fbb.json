{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Appointments=()=>{const[appointments,setAppointments]=useState([]);const[patientId,setPatientId]=useState(0);const[slotId,setSlotId]=useState(0);useEffect(()=>{// Fetch and display the user's appointments on page load\nconst fetchAppointments=async()=>{try{const response=await axios.get(\"/api/patient/\".concat(patientId,\"/reservations\"));setAppointments(response.data.reservations);}catch(error){console.error(error);}};fetchAppointments();},[patientId]);const bookAppointment=async()=>{try{await axios.post('/api/bookAppointment',{patient_id:patientId,slot_id:slotId});// After booking, fetch and update the appointments\nconst response=await axios.get(\"/api/patient/\".concat(patientId,\"/reservations\"));setAppointments(response.data.reservations);}catch(error){console.error(error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Appointments\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Appointment ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Start Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"End Time\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:appointments.map(appointment=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:appointment.appointment_id}),/*#__PURE__*/_jsx(\"td\",{children:appointment.doctor_name}),/*#__PURE__*/_jsx(\"td\",{children:appointment.date}),/*#__PURE__*/_jsx(\"td\",{children:appointment.start_time}),/*#__PURE__*/_jsx(\"td\",{children:appointment.end_time})]},appointment.appointment_id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Patient ID\",value:patientId,onChange:e=>setPatientId(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Slot ID\",value:slotId,onChange:e=>setSlotId(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:bookAppointment,children:\"Book Appointment\"})]})]});};export default Appointments;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Appointments","appointments","setAppointments","patientId","setPatientId","slotId","setSlotId","fetchAppointments","response","get","concat","data","reservations","error","console","bookAppointment","post","patient_id","slot_id","children","map","appointment","appointment_id","doctor_name","date","start_time","end_time","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/MAS/Documents/VScode/clinicWebApp/client/src/components/PatientDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Appointments = () => {\r\n  const [appointments, setAppointments] = useState([]);\r\n  const [patientId, setPatientId] = useState(0);\r\n  const [slotId, setSlotId] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // Fetch and display the user's appointments on page load\r\n    const fetchAppointments = async () => {\r\n      try {\r\n        const response = await axios.get(`/api/patient/${patientId}/reservations`);\r\n        setAppointments(response.data.reservations);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n    fetchAppointments();\r\n  }, [patientId]);\r\n\r\n  const bookAppointment = async () => {\r\n    try {\r\n      await axios.post('/api/bookAppointment', {\r\n        patient_id: patientId,\r\n        slot_id: slotId\r\n      });\r\n      // After booking, fetch and update the appointments\r\n      const response = await axios.get(`/api/patient/${patientId}/reservations`);\r\n      setAppointments(response.data.reservations);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Appointments</h1>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Appointment ID</th>\r\n            <th>Doctor Name</th>\r\n            <th>Date</th>\r\n            <th>Start Time</th>\r\n            <th>End Time</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {appointments.map(appointment => (\r\n            <tr key={appointment.appointment_id}>\r\n              <td>{appointment.appointment_id}</td>\r\n              <td>{appointment.doctor_name}</td>\r\n              <td>{appointment.date}</td>\r\n              <td>{appointment.start_time}</td>\r\n              <td>{appointment.end_time}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <div>\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Patient ID\"\r\n          value={patientId}\r\n          onChange={e => setPatientId(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Slot ID\"\r\n          value={slotId}\r\n          onChange={e => setSlotId(e.target.value)}\r\n        />\r\n        <button onClick={bookAppointment}>Book Appointment</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Appointments;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}