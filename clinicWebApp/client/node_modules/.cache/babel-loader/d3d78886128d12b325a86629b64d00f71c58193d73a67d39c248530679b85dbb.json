{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PatientDashboard=()=>{const[patientId,setPatientId]=useState('');const[slotId,setSlotId]=useState('');const[reservations,setReservations]=useState([]);useEffect(()=>{// Fetch and display the patient's reservations on page load\nconst fetchPatientReservations=async()=>{try{const response=await axios.get(\"/api/patients/\".concat(patientId,\"/reservations\"));setReservations(response.data.reservations);}catch(error){console.error(error);}};if(patientId){fetchPatientReservations();}},[patientId]);const handleBookAppointment=async()=>{try{const response=await axios.post('/api/patients/bookappointment',{patient_id:patientId,slot_id:slotId});setReservations(response.data.reservations);}catch(error){console.error(error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Book Appointment\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter patient ID\",value:patientId,onChange:e=>setPatientId(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter slot ID\",value:slotId,onChange:e=>setSlotId(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBookAppointment,children:\"Book Appointment\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"My Reservations\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Appointment ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Slot ID\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:reservations.map(reservation=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:reservation.id}),/*#__PURE__*/_jsx(\"td\",{children:reservation.slot_id})]},reservation.id))})]})]});};export default PatientDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","PatientDashboard","patientId","setPatientId","slotId","setSlotId","reservations","setReservations","fetchPatientReservations","response","get","concat","data","error","console","handleBookAppointment","post","patient_id","slot_id","children","type","placeholder","value","onChange","e","target","onClick","map","reservation","id"],"sources":["C:/Users/MAS/Documents/VScode/clinicWebApp/client/src/components/PatientDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst PatientDashboard = () => {\r\n  const [patientId, setPatientId] = useState('');\r\n  const [slotId, setSlotId] = useState('');\r\n  const [reservations, setReservations] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch and display the patient's reservations on page load\r\n    const fetchPatientReservations = async () => {\r\n      try {\r\n        const response = await axios.get(`/api/patients/${patientId}/reservations`);\r\n        setReservations(response.data.reservations);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n    if (patientId) {\r\n      fetchPatientReservations();\r\n    }\r\n  }, [patientId]);\r\n\r\n  const handleBookAppointment = async () => {\r\n    try {\r\n      const response = await axios.post('/api/patients/bookappointment', {\r\n        patient_id: patientId,\r\n        slot_id: slotId,\r\n      });\r\n      setReservations(response.data.reservations);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Book Appointment</h1>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter patient ID\"\r\n        value={patientId}\r\n        onChange={(e) => setPatientId(e.target.value)}\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter slot ID\"\r\n        value={slotId}\r\n        onChange={(e) => setSlotId(e.target.value)}\r\n      />\r\n      <button onClick={handleBookAppointment}>Book Appointment</button>\r\n\r\n      <h2>My Reservations</h2>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Appointment ID</th>\r\n            <th>Slot ID</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {reservations.map((reservation) => (\r\n            <tr key={reservation.id}>\r\n              <td>{reservation.id}</td>\r\n              <td>{reservation.slot_id}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PatientDashboard;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAa,wBAAwB,CAAG,KAAAA,CAAA,GAAY,CAC3C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,kBAAAC,MAAA,CAAkBT,SAAS,iBAAe,CAAC,CAC3EK,eAAe,CAACE,QAAQ,CAACG,IAAI,CAACN,YAAY,CAAC,CAC7C,CAAE,MAAOO,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CACD,GAAIX,SAAS,CAAE,CACbM,wBAAwB,CAAC,CAAC,CAC5B,CACF,CAAC,CAAE,CAACN,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAa,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACoB,IAAI,CAAC,+BAA+B,CAAE,CACjEC,UAAU,CAAEf,SAAS,CACrBgB,OAAO,CAAEd,MACX,CAAC,CAAC,CACFG,eAAe,CAACE,QAAQ,CAACG,IAAI,CAACN,YAAY,CAAC,CAC7C,CAAE,MAAOO,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACEb,KAAA,QAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBrB,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAEpB,SAAU,CACjBqB,QAAQ,CAAGC,CAAC,EAAKrB,YAAY,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/C,CAAC,cACFxB,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,eAAe,CAC3BC,KAAK,CAAElB,MAAO,CACdmB,QAAQ,CAAGC,CAAC,EAAKnB,SAAS,CAACmB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5C,CAAC,cACFxB,IAAA,WAAQ4B,OAAO,CAAEX,qBAAsB,CAAAI,QAAA,CAAC,kBAAgB,CAAQ,CAAC,cAEjErB,IAAA,OAAAqB,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBnB,KAAA,UAAAmB,QAAA,eACErB,IAAA,UAAAqB,QAAA,cACEnB,KAAA,OAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBrB,IAAA,OAAAqB,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACRrB,IAAA,UAAAqB,QAAA,CACGb,YAAY,CAACqB,GAAG,CAAEC,WAAW,eAC5B5B,KAAA,OAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAKS,WAAW,CAACC,EAAE,CAAK,CAAC,cACzB/B,IAAA,OAAAqB,QAAA,CAAKS,WAAW,CAACV,OAAO,CAAK,CAAC,GAFvBU,WAAW,CAACC,EAGjB,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}